angular.module("RDash",["ui.bootstrap","ui.router","ngCookies"]);
"use strict";angular.module("RDash").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("index",{url:"/",templateUrl:"templates/dashboard.html"}).state("tables",{url:"/tables",templateUrl:"templates/tables.html"}).state("addevent",{url:"/addevent",templateUrl:"templates/addevent.html"})}]);
function AlertsCtrl(t,a){function e(a){t.alerts.push({type:"success",msg:a.data.message}),t.data=null}function s(a){t.alerts.push({type:"danger",msg:a.data}),t.data=null}t.alerts=[],t.addAlert=function(){t.alerts.push({type:"success",msg:"Another alert!"})},t.closeAlert=function(a){t.alerts.splice(a,1)},t.submit=function(){a.submitNewEvent(t.data.building,t.data.title,t.data.content,t.data.dt,t.data.startTime,t.data.endTime,t.data.floor,t.data.room).then(e,s)}}angular.module("RDash").controller("AlertsCtrl",["$scope","AppService",AlertsCtrl]);
function DatepickerCtrl(t){function e(e){var a=e.date,n=e.mode;if("day"===n)for(var s=new Date(a).setHours(0,0,0,0),r=0;r<t.events.length;r++){var o=new Date(t.events[r].date).setHours(0,0,0,0);if(s===o)return t.events[r].status}return""}t.today=function(){t.dt=new Date},t.today(),t.clear=function(){t.dt=null},t.options={customClass:e,minDate:new Date,showWeeks:!0};var a=new Date;a.setDate(a.getDate()+1);var n=new Date(a);n.setDate(a.getDate()+1),t.events=[{date:a,status:"full"},{date:n,status:"partially"}]}angular.module("RDash").controller("DatepickerCtrl",["$scope",DatepickerCtrl]);
function DropDownCtrl(o,n){function t(){n.getBuildingInfo().then(e,r)}function e(n){var t=parseInt(n.data[0].floors);o.building.push(n.data[0].title);for(var e=[],r=1;r<=t;r++)e.push(r);o.floors=e}function r(o){console.log(o.data)}t(),o.building=[],o.room={options:["Floor wide event","Room 109","Room 113","Room 115"],selected:"Floor wide event"}}angular.module("RDash").controller("DropDownCtrl",["$scope","AppService",DropDownCtrl]);
function EventsCtrl(e,n){function t(n){e.events.splice(n,1)}function o(n){e.events=n.data[0].events}function s(e){console.log(e.data)}e.events=[],e.doRefresh=function(){n.getEvents().then(o,s)},e.deleteEvent=function(e,o,v){n.removeEvent(e,o).then(t(v),s)},e.doRefresh()}angular.module("RDash").controller("EventsCtrl",["$scope","AppService",EventsCtrl]);
function MasterCtrl(t,e){t.data={};var g=992;t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(o,n){o>=g?angular.isDefined(e.get("toggle"))?t.toggle=!!e.get("toggle"):t.toggle=!0:t.toggle=!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,e.put("toggle",t.toggle)},window.onresize=function(){t.$apply()}}angular.module("RDash").controller("MasterCtrl",["$scope","$cookieStore",MasterCtrl]);
function TimepickerCtrl(e,i){e.mytime=new Date,e.hstep=1,e.mstep=15,e.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},e.ismeridian=!0,e.toggleMode=function(){e.ismeridian=!e.ismeridian},e.update=function(){var i=new Date;i.setHours(14),i.setMinutes(0),e.mytime=i},e.changed=function(){i.log("Time changed to: "+e.mytime)},e.clear=function(){e.mytime=null}}angular.module("RDash").controller("TimepickerCtrl",["$scope",TimepickerCtrl]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("RDash").directive("rdLoading",rdLoading);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"=?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("RDash").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("RDash").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("RDash").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("RDash").directive("rdWidget",rdWidget);
function AppService(n){var t="http://localhost:8000/",e=this;e.getBuildings=function(){return n.get(t+"buildings")},e.getEvents=function(e){return n.get(t+"buildings/events")},e.getBuildingInfo=function(){return n.get(t+"buildings/info")},e.submitNewEvent=function(e,i,u,r,o,g,s,l){return n.post(t+"buildings/newEvent",{building:e,title:i,content:u,date:r,start:o,end:g,floor:s,room:l})},e.removeEvent=function(e,i){return n.post(t+"buildings/removeEvent",{building:e,eventId:i})}}angular.module("RDash").service("AppService",["$http",AppService]);